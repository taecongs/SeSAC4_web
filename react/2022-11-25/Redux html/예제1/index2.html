<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.0/redux.min.js"></script>
    <title>123</title>

    <style>
        div{
            width:10%;
            border:1px solid #000;
            margin:0 auto;
            padding:10px;
            width:150px;
            height:150px;
            text-align: center;
        }

        div a{
            display:block;
        }
    </style>
</head>
<script>
    function reducer(state, action){
        // state : 현재 상태 -> 변경되기 전,
        // action : dispatch를 호출할 대 넣었던 객체
        // return{color : 'red'};

        if(action.type === 'CHANGE'){
            return {color : action.color};
        }

    }

    let store = Redux.createStore(reducer);

    const redBtn = () => {
        let state = store.getState();
        document.querySelector("#box1").style.backgroundColor = state.color;
    };
    
    const clickGreen = () => {
        document.querySelector("#box2").style.backgroundColor = state.color;
    };

    const clickYellow = () => {
        document.querySelector("#box3").style.backgroundColor = state.color;
    };


    store.subscribe(red);
    store.subscribe(green);
    store.subscribe(yellow);
</script>

<body>
    <div id="box1">
        <h1>red</h1>
        <button  onclick="store.dispatch(type : 'CHANGE', color : 'red');">실행</button>
    </div>

    <div id="box2">
        <h1>green</h1>
        <button  onclick="store.dispatch(type : 'CHANGE', color : 'green');">실행</button>
    </div>

    <div id="box3">
        <h1>yellow</h1>
        <button onclick="store.dispatch(type : 'CHANGE', color : 'yellow');">실행</button>
    </div>
</body>

</html>