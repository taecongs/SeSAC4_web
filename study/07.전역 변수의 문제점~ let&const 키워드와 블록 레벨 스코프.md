# 14장 전역 변수의 문제점
**1. 변수의 생명 주기**
+ 함수 내부에서 선언된 지역 변수는 함수가 호출되면 생성되고 함수가 종료되면 소멸한다.
```javascript
function foo(){
    var x = 'local';

    console.log(x);    // local

    return x;
}

foo();

console.log(x);       // Error
```

> _1.지역 변수 x는 foo 함수가 호출되기 이전까지는 생성되지 않는다. foo 함수를 호출하지 않으면 함수 내부의 변수 선언문이 실행되지 않기 때문이다._   

> _2.foo 함수를 호출하면 함수 몸체의 다른 문들이 순차적으로 실행되기 이전에 x 변수의 선언문이 자바스크립트 엔진에 의해 가장 먼저 실행되어 x 변수가 선언되고 undefined로 초기화된다._   
   
> _3.그 후, 함수 몸체를 구성하는 문들이 순차적으로 실행되고 x 변수에 값이 할당된다._   
   
> _4.함수가 종료되면 x 변수도 소멸되어 생명 주기가 종료된다. 따라서 함수 내부에서 선언된 지역 변수 x는 foo 함수가 호출되어 실행되는 동안에만 유효하다._   
   
> _5. **지역 변수의 생명 주기는 함수의 생명 주기와 일치한다.**_   


**2. 전역 변수의 문제점**
+ 모든 코드가 전역 변수를 참조하고 변경할 수 있는 **암묵적 결합**을 허용하기 때문에 변수의 유효 범위가 크면 클수록 코드의 가독성이 나빠지고 의도치 않게 상태가 변경될 수 있어 위험성이 높아진다.
+ 전역 변수는 생명 주기가 길다. 따라서 메모리 리소스도 오랜 기간 소비한다.
+ 전역 변순느 스코프 체인 상에서 종점이 존재하며, 검색 속도가 가장 느리다.


**3. 전역 변수의 사용을 억제하는 방법**
+ 전역 변수를 반드시 사용해야 할 이유를 찾지 못한다면 지역 변수를 사용하는 것이 좋다. 변수의 **스코프는 좁을수록 좋다**


1. 즉시 실행 함수
+ 모든 코드를 즉시 실행 함수로 감싸면 모든 변수는 즉시 실행 함수의 지역 변수가 된다.
```javascript
(function foo(){
    //  즉시 실행 함수의 지역 변수
    var foo = 10;
}());

console.log(foo);       // Error
```

2. 네임스페이스 객체
+ 역할을 담당할 객체를 생성하고 전역 변수처럼 사용하고 싶은 변수를 프로퍼티로 추가하는 방법이다.
```javascript
// 전역 스페이스 객체
var MYAPP = {};

MYAPP.name 'Lee';

console.log(MYAPP.name);    // Lee
```

+ 계츨적으로 구성할 수 있다.
```javascript
// 전역 스페이스 객체
var MYAPP = {};

MYAPP.person = {
    name : 'Bang',
    address : 'Seoul'
};

console.log(MYAPP.person.name);       // Bang
```

3. 모듈 패턴
